<div class="container mt-5">
    <div class="d-flex justify-content-center align-items-center">
        <h1 class="text-center">Bienvenido, {{user.name}}ðŸ‘‹</h1>
        <button class="btn btn-success" onclick="showCart()">Ver Carrito</button>
    </div>
    <h2 class="mt-4">Nuestros productos</h2>
    <input type="hidden" id="userId" value="{{user._id}}">
    <input type="hidden" id="cartId" value="{{user.cartId}}">

    <div class="row">
        {{#each products}}
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100 d-flex flex-column">
                <img src="{{this.imageUrl}}" class="card-img-top img-fluid" alt="{{this.name}}">
                <div class="card-body d-flex flex-column justify-content-between">
                    <h5 class="card-title">{{this.name}}</h5>
                    <p class="card-text">{{this.description}}</p>
                    <p class="fw-bold">Precio: ${{this.price}}</p>
                    <a class="btn btn-primary"
                        onclick="addToCart('{{this._id}}', '{{this.name}}', '{{this.price}}')">Agregar al carro</a>
                </div>
            </div>
        </div>
        {{/each}}
    </div>

    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Carrito de Compras</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <p>Total: <span id="totalPrice">$0.00</span></p>
                    <ul id="cartItems"></ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="successModalLabel">ðŸŽ‰ Â¡Producto agregado exitosamente! âœ…</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="deleteModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="successModalLabel">ðŸŽ‰ Â¡Producto eliminado exitosamente! âœ…</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <!-- AquÃ­ puedes aÃ±adir algÃºn mensaje o mÃ¡s detalles si lo deseas -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

</div>
<script src="/js/cartHome.js"></script>